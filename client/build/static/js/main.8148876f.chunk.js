(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){},111:function(e,t,n){},140:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(32),c=n.n(o),l=(n(100),n(9)),i=n(60),s=n(27),u=n(63),m=n(21),d=n(80);u.a.use(d.a).use(m.a).init({debug:!0,lng:"en",fallbackLng:"en",whitelist:["en","kr","fr"],interpolation:{escapeValue:!1},backend:{loadPath:"/locales/{{lng}}/translation.json"}});var g=u.a,f=(n(111),n(112),n(11)),p=n.n(f),h=n(148),E=n(35),v=n(64),b=function(e){var t=Object(m.b)().t,n=r.a.useState(0),a=Object(l.a)(n,2),o=a[0],c=a[1];return r.a.createElement(h.a,{style:{width:"23vw",height:"30rem",margin:"10px",display:"flex",justifyContent:"space-around",alignItems:"center"}},r.a.createElement(h.a.Img,{variant:"top",src:e.image,style:{paddingTop:"1rem",width:"8rem"}}),r.a.createElement(h.a.Body,{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"column"}},r.a.createElement(h.a.Title,null,e.name),r.a.createElement(h.a.Text,null,r.a.createElement(v.a.Item,null,t("price")+": "+e.price),r.a.createElement(v.a.Item,null,t("desc")+": "+e.desc)),r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("input",{type:"number",style:{width:"60px"},value:o,onChange:function(e){var t;(t=e.target.value)>=0&&t<=10&&c(t)}}),r.a.createElement(E.a,{variant:"primary",onClick:function(){p.a.post("/orders/"+e._id,{customerName:e.customerName,quantity:o}).then(function(e){console.log("order res"+e)})},style:{alignSelf:"center"},disabled:!e.isLoggedIn},t("order_button")))))},k=n(145),w=n(146),y=n(147),j=n(82),I=n(22),O=n.n(I),N=n(36),x=n(92),C=function(e){var t=Object(m.b)().t,n=r.a.useState([]),a=Object(l.a)(n,2),o=a[0],c=a[1],i=e.orders,s=e.customerName,u=e.onClickFinish,d=e.isMyOrder,g=e.onClickDelete;return r.a.createElement(h.a,{bg:"light",style:{width:"18rem"}},r.a.createElement(h.a.Body,null,r.a.createElement(h.a.Title,null,s),r.a.createElement(h.a.Text,null,i.map(function(e){return r.a.createElement("div",{style:{color:e.isChecked&&!d?"red":"black"}},t(e.productId+"_name")+", "+e.quantity,d?r.a.createElement(E.a,{variant:"info",size:"lg",block:!0,disabled:e.isChecked,onClick:function(){return g(e._id)}},"Delete"):null,e.isChecked||d?null:r.a.createElement("input",{type:"checkbox",onChange:function(t){return function(e,t){if(console.log(e.target.checked),!0===e.target.checked)c([].concat(Object(x.a)(o),[t]));else{var n=o.filter(function(e){return e!==t});c(n)}}(t,e._id)}}))})),d?null:r.a.createElement(E.a,{variant:"primary",onClick:function(){u(s,o)},disabled:e.isButtonDisabled},"Finish Order")))},L=function(e){var t=r.a.useState([]),n=Object(l.a)(t,2),o=n[0],c=n[1],i=function(){var e=Object(N.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/products").then(function(e){console.log("res.body",e.data);var t={};return e.data.forEach(function(e){t[e._id]=e.name}),t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),s=function(){var t=Object(N.a)(O.a.mark(function t(){var n;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i();case 2:n=t.sent,p.a.get("/orders").then(function(t){console.log("res.body orders",t.data),t.data.forEach(function(e){e.productName=n[e.productId]}),console.log("original orders",t.data),console.log("customer name",e.customerName),console.log("this customers orders are",t.data.filter(function(t){return t.customerName===e.customerName})),c(t.data)});case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)(function(){s()},[]),r.a.createElement(C,{customerName:e.customerName,orders:o,isMyOrder:!0,onClickDelete:function(e){p.a.delete("/orders/"+e).then(function(e){s()})}})},S=function(e){var t=r.a.useState([]),n=Object(l.a)(t,2),a=n[0],o=n[1],c=Object(m.b)().t;return p.a.get("/products").then(function(e){console.log(e.data),a.length!==e.data.length&&o(e.data)}),r.a.createElement(k.a,null,r.a.createElement(w.a,null,r.a.createElement(j.a,null,a.map(function(t){return r.a.createElement(y.a,null,r.a.createElement(b,{isLoggedIn:e.isLoggedIn,_id:t._id,image:t.image,name:c("".concat(t._id,"_name")),desc:c("".concat(t._id,"_desc")),price:t.price,customerName:e.customerName}))}))))},_=function(e){var t=r.a.useState({}),n=Object(l.a)(t,2),a=n[0],o=n[1],c=function(){var e=Object(N.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/products").then(function(e){console.log("res.body",e.data);var t={};return e.data.forEach(function(e){t[e._id]=e.name}),t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(N.a)(O.a.mark(function e(){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:t=e.sent,p.a.get("/orders").then(function(e){console.log("res.body",e.data);var n={};e.data.forEach(function(e){e.productName=t[e.productId],void 0!==n[e.customerName]?n[e.customerName].push(e):(n[e.customerName]=[],n[e.customerName].push(e))}),console.log(n),o(n)});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),s=function(e,t){p.a.put("/checked_orders",{customerName:e,orderIds:t}).then(function(e){console.log("onClickFinish"+e)}),i()};r.a.useEffect(function(){i()},[]),console.log(Object.keys(a));return r.a.createElement("div",null,Object.keys(a).map(function(t){return r.a.createElement("div",null,"Customer Name: ",r.a.createElement("b",null,t),r.a.createElement(C,{isMyOrder:!1,customerName:t,orders:a[t],onClickFinish:s,isButtonDisabled:!e.isLoggedIn}))}))},F=n(48),D=n.n(F),T=function(e){var t=Object(s.e)(),n=function(n){if(console.log(n),n.error)console.log("error!!");else{console.log("login",n.profileObj);var a=n.profileObj;e.onLogin(a),t.push(e.redirectUrl)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{clientId:"633836193320-58ne77b6orcdts600rm6llqle3j19vkm.apps.googleusercontent.com",buttonText:"Login",onSuccess:n,onFailure:n,cookiePolicy:"single_host_origin"}))},B=n(85),U=n(86),q=n(93),P=n(87),W=n(94),M=function(e){function t(){var e,n;Object(B.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(q.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).logoutFunc=function(){n.props.logout(),n.props.history.push("/")},n}return Object(W.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.GoogleLogout,{clientId:"633836193320-58ne77b6orcdts600rm6llqle3j19vkm.apps.googleusercontent.com",buttonText:"Logout",onLogoutSuccess:this.logoutFunc}))}}]),t}(r.a.Component),A=n(43),J=n(41),z=n(31),G=n(42),K=function(){var e=Object(a.useState)(0),t=Object(l.a)(e,2),n=t[0],o=t[1];return r.a.createElement("div",{style:{height:"auto",width:"100vw",alignItems:"center",justifyContent:"center",display:"flex",marginTop:"25px"}},r.a.createElement(G.a,{activeIndex:n,onSelect:function(e,t){o(e)}},r.a.createElement(G.a.Item,null,r.a.createElement("img",{style:{objectFit:"contain",width:"70vw",height:"80vh",padding:"10%"},src:"assets/images/main1.png"})),r.a.createElement(G.a.Item,null,r.a.createElement("img",{style:{objectFit:"contain",height:"80vh"},src:"assets/images/main2.png"})),r.a.createElement(G.a.Item,null,r.a.createElement("img",{style:{objectFit:"contain",height:"80vh"},src:"assets/images/main3.png"}))))},R=function(e){var t=Object(m.b)().t,n=r.a.useState(localStorage.getItem("isLoggedIn")||!1),a=Object(l.a)(n,2),o=a[0],c=a[1],u=r.a.useState(localStorage.getItem("userName")||""),d=Object(l.a)(u,2),f=d[0],p=d[1],h=r.a.useState(localStorage.getItem("devName")||""),v=Object(l.a)(h,2),b=(v[0],v[1]),k=r.a.useState(localStorage.getItem("language")||"en"),w=Object(l.a)(k,2),y=w[0],j=w[1],I=function(e){g.changeLanguage(e),j(e),localStorage.setItem("language",e)};r.a.useEffect(function(){g.changeLanguage(y)},[y]);var O=function(e){console.log("onUserLogin"),c(!0),localStorage.setItem("isLoggedIn",!0),p(e.name),localStorage.setItem("userName",e.name)},N=function(e){c(!0),localStorage.setItem("isLoggedIn",!0),b(e.name),localStorage.setItem("devName",!0)},x=function(){console.log("onLogout"),c(!1),localStorage.setItem("isLoggedIn",!1),p(""),localStorage.setItem("userName",""),b(""),localStorage.setItem("devName","")};return r.a.createElement("div",null,r.a.createElement(i.a,null,r.a.createElement(A.a,{bg:"light",expand:"lg"},r.a.createElement(A.a.Brand,{href:"/"},t("title")),r.a.createElement(A.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(A.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(J.a,{className:"mr-auto"},r.a.createElement(J.a.Link,{onClick:function(){return e="/customer",void(window.location=e);var e}},t("product")),r.a.createElement(J.a.Link,{href:"/my_order"},t("my_order")),r.a.createElement(J.a.Link,{onClick:function(){window.open("mailto:eunjoo@gmail.com")}},t("contact")),r.a.createElement(z.a,{title:t("translation"),id:"basic-nav-dropdown"},r.a.createElement(z.a.Item,null,r.a.createElement(E.a,{variant:"link",onClick:function(){I("en")}},"English")),r.a.createElement(z.a.Item,null,r.a.createElement(E.a,{variant:"link",onClick:function(){I("fr")}},"French")),r.a.createElement(z.a.Item,null,r.a.createElement(E.a,{variant:"link",onClick:function(){I("kr")}},"Korean")),r.a.createElement(z.a.Divider,null),r.a.createElement(z.a.Item,{onClick:function(){window.open("mailto:ekcho3650@gmail.com")}},"Contact Dev"))))),r.a.createElement("div",null,f),!o&&r.a.createElement(s.a,{path:"/",render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"login"},"Customer login: "),r.a.createElement(T,Object.assign({},e,{onLogin:O,redirectUrl:"/customer"})))}}),!o&&r.a.createElement(s.a,{path:"/",render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"login"}," Patissier login:  "),r.a.createElement(T,Object.assign({},e,{onLogin:N,redirectUrl:"/developer"})))}}),o&&r.a.createElement(s.a,{path:"/",render:function(e){return r.a.createElement(M,Object.assign({},e,{logout:x}))}}),r.a.createElement("div",{class:"pages"},r.a.createElement(s.a,{exact:!0,path:"/",component:K}),r.a.createElement(s.a,{exact:!0,path:"/customer",render:function(){return r.a.createElement(S,{customerName:f,isLoggedIn:o})},id:"customerPage"}),r.a.createElement(s.a,{exact:!0,path:"/developer",render:function(){return r.a.createElement(_,{isLoggedIn:o})}}),r.a.createElement(s.a,{exact:!0,path:"/my_order",render:function(){return r.a.createElement(L,{isLoggedIn:o,customerName:f})}}))))},V=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(a.Suspense,{fallback:null},r.a.createElement(R,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");V?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):$(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):$(e)})}}()},95:function(e,t,n){e.exports=n(140)}},[[95,1,2]]]);
//# sourceMappingURL=main.8148876f.chunk.js.map